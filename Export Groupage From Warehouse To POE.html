<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groupage Tariff Calculator - Warehouse to POE</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        select, input {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .radio-group {
            display: flex;
            gap: 15px;
        }
        .radio-group label {
            font-weight: normal;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 4px;
            font-size: 16px;
        }
        button:hover {
            background-color: #2980b9;
        }
        #result {
            margin-top: 30px;
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 4px;
            background-color: #f9f9f9;
            display: none;
        }
        .calculation-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px dotted #ddd;
        }
        .total {
            font-weight: bold;
            font-size: 1.2em;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid #ddd;
        }
        .note {
            margin-top: 20px;
            font-style: italic;
            color: #e74c3c;
        }
    </style>
</head>
<body>
    <h1>Groupage Tariff from Warehouse to POE</h1>
    
    <div class="form-group">
        <label for="destination">Destination:</label>
        <select id="destination" required>
            <option value="">-- Select Destination --</option>
            <option value="UK">UK</option>
            <option value="Europe">Europe</option>
        </select>
    </div>
    
    <div class="form-group">
        <label for="origin">Origin Warehouse:</label>
        <select id="origin" required>
            <option value="">-- Select Origin --</option>
            <option value="Montreal/Ottawa">Montreal/Ottawa</option>
            <option value="Pickering">Pickering</option>
        </select>
    </div>
    
    <div class="form-group">
        <label>Volume/Weight:</label>
        <input type="number" id="measureValue" step="0.01" min="0" placeholder="Enter value" required>
        
        <div class="form-group">
            <label>Unit of Measurement:</label>
            <div class="radio-group">
                <label>
                    <input type="radio" name="unit" value="cuft" checked> CUFT
                </label>
                <label>
                    <input type="radio" name="unit" value="cbm"> CBM
                </label>
                <label>
                    <input type="radio" name="unit" value="lbs"> LBS
                </label>
                <label>
                    <input type="radio" name="unit" value="kg"> KG
                </label>
            </div>
        </div>
    </div>
    
    <button onclick="calculateTariff()">Calculate Tariff</button>
    
    <div id="result">
        <h2>Rate Calculation</h2>
        <div id="calculationDetails"></div>
        <div class="note">* Don't forget the delivery rate!</div>
    </div>
    
    <script>
        function calculateTariff() {
            // Get input values
            const destination = document.getElementById('destination').value;
            const origin = document.getElementById('origin').value;
            const measureValue = parseFloat(document.getElementById('measureValue').value);
            const unit = document.querySelector('input[name="unit"]:checked').value;
            
            // Validate inputs
            if (!destination || !origin || isNaN(measureValue) || measureValue <= 0) {
                alert("Please fill in all fields with valid values.");
                return;
            }
            
            // Convert all measurements to CUFT for calculations
            let volumeInCuft = 0;
            let volumeInCbm = 0;
            
            switch(unit) {
                case 'cuft':
                    volumeInCuft = measureValue;
                    volumeInCbm = measureValue / 35.315;
                    break;
                case 'cbm':
                    volumeInCbm = measureValue;
                    volumeInCuft = measureValue * 35.315;
                    break;
                case 'lbs':
                    volumeInCuft = measureValue / 7; // Using density of 7LBS per CUFT
                    volumeInCbm = volumeInCuft / 35.315;
                    break;
                case 'kg':
                    const lbs = measureValue * 2.20462;
                    volumeInCuft = lbs / 7; // Convert kg to lbs then use density
                    volumeInCbm = volumeInCuft / 35.315;
                    break;
            }
            
            // Calculate charges
            let truckingCharge = 0;
            if (origin === "Montreal/Ottawa") {
                truckingCharge = volumeInCbm * 200 / 2;
            }
            
            const warehouseHandling = volumeInCuft * 0.75;
            const adminCharge = 150;
            
            let oceanFreight = 0;
            if (destination === "UK") {
                oceanFreight = volumeInCuft * 4.00;
            } else { // Europe
                oceanFreight = volumeInCuft * 4.50;
            }
            
            const totalCharge = truckingCharge + warehouseHandling + adminCharge + oceanFreight;
            
            // Display results
            let calculationDetails = "";
            
            // Input details
            calculationDetails += `<div class="calculation-line">
                <span>Input:</span>
                <span>${measureValue} ${unit.toUpperCase()}</span>
            </div>`;
            calculationDetails += `<div class="calculation-line">
                <span>Converted to:</span>
                <span>${volumeInCuft.toFixed(2)} CUFT / ${volumeInCbm.toFixed(2)} CBM</span>
            </div>`;
            
            // Trucking calculation
            if (origin === "Montreal/Ottawa") {
                calculationDetails += `<div class="calculation-line">
                    <span>Trucking to Warehouse Pickering:</span>
                    <span>${volumeInCbm.toFixed(2)} CBM × $200/2CBM = $${truckingCharge.toFixed(2)}</span>
                </div>`;
            }
            
            // Warehouse handling
            calculationDetails += `<div class="calculation-line">
                <span>Warehouse Handling Pickering:</span>
                <span>${volumeInCuft.toFixed(2)} CUFT × $0.75/CUFT = $${warehouseHandling.toFixed(2)}</span>
            </div>`;
            
            // Admin charge
            calculationDetails += `<div class="calculation-line">
                <span>Admin:</span>
                <span>$150.00 (flat rate)</span>
            </div>`;
            
            // Ocean freight
            const ratePerCuft = destination === "UK" ? "$4.00" : "$4.50";
            calculationDetails += `<div class="calculation-line">
                <span>Ocean Freight (${destination}):</span>
                <span>${volumeInCuft.toFixed(2)} CUFT × ${ratePerCuft}/CUFT = $${oceanFreight.toFixed(2)}</span>
            </div>`;
            
            // Total
            calculationDetails += `<div class="calculation-line total">
                <span>Total Charge:</span>
                <span>$${totalCharge.toFixed(2)}</span>
            </div>`;
            
            document.getElementById('calculationDetails').innerHTML = calculationDetails;
            document.getElementById('result').style.display = 'block';
        }
    </script>
</body>
</html>
