<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groupage Tariff Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        h1 {
            text-align: center;
            color: #003366;
        }
        
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        select, input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        
        .inline-radio {
            display: inline-block;
            margin-right: 15px;
        }
        
        .inline-radio input {
            width: auto;
            margin-right: 5px;
        }
        
        button {
            background-color: #003366;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            display: block;
            margin: 20px auto;
        }
        
        button:hover {
            background-color: #00254d;
        }
        
        #results {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border-left: 4px solid #003366;
        }
        
        .result-item {
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
        }
        
        .result-item.total {
            font-weight: bold;
            border-top: 1px solid #ddd;
            padding-top: 10px;
            margin-top: 10px;
        }
        
        .warning {
            color: #cc0000;
            font-style: italic;
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Groupage Tariff Calculator</h1>
        <h2>From Warehouse up to POE</h2>
        
        <div class="form-group">
            <label for="origin">Origin:</label>
            <select id="origin">
                <option value="montreal">Warehouse Montreal/Ottawa</option>
                <option value="pickering">Warehouse Pickering</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="destination">Destination:</label>
            <select id="destination">
                <option value="uk">UK</option>
                <option value="europe">Europe</option>
            </select>
        </div>
        
        <div class="form-group">
            <label>Volume/Weight:</label>
            <input type="number" id="volume-value" placeholder="Enter value" step="0.01" min="0">
            <select id="volume-unit">
                <option value="cuft">CUFT</option>
                <option value="cbm">CBM</option>
                <option value="lbs">LBS</option>
                <option value="kg">KG</option>
            </select>
        </div>
        
        <button onclick="calculateRates()">Calculate</button>
        
        <div id="results">
            <h3>Rate Calculation</h3>
            <div id="results-detail"></div>
            <div class="warning">Don't forget the delivery rate!</div>
        </div>
    </div>

    <script>
        function calculateRates() {
            // Get input values
            const origin = document.getElementById("origin").value;
            const destination = document.getElementById("destination").value;
            const volumeValue = parseFloat(document.getElementById("volume-value").value);
            const volumeUnit = document.getElementById("volume-unit").value;
            
            // Check if volume value is entered
            if (isNaN(volumeValue) || volumeValue <= 0) {
                alert("Please enter a valid volume/weight value.");
                return;
            }
            
            // Convert to CUFT for calculations
            let volumeInCUFT = 0;
            let volumeInCBM = 0;
            
            switch(volumeUnit) {
                case "cuft":
                    volumeInCUFT = volumeValue;
                    volumeInCBM = volumeValue / 35.315; // 1 CBM = 35.315 CUFT
                    break;
                case "cbm":
                    volumeInCBM = volumeValue;
                    volumeInCUFT = volumeValue * 35.315;
                    break;
                case "lbs":
                    volumeInCUFT = volumeValue / 7; // 7 LBS per CUFT
                    volumeInCBM = volumeInCUFT / 35.315;
                    break;
                case "kg":
                    volumeInCUFT = (volumeValue * 2.20462) / 7; // Convert KG to LBS, then use density
                    volumeInCBM = volumeInCUFT / 35.315;
                    break;
            }
            
            // Calculate costs
            let truckingCost = 0;
            let warehouseCost = 0;
            let adminCost = 150;
            let oceanFreightCost = 0;
            let totalCost = 0;
            
            // Calculate trucking costs (if applicable)
            if (origin === "montreal") {
                truckingCost = volumeInCBM * (200 / 2);
            if (truckingCost < 200) {
                truckingCost = 200; // Minimum flat rate
            }
            
            // Calculate warehouse handling costs
            warehouseCost = volumeInCUFT * 0.75;
            if (warehouseCost < 150) {
                warehouseCost = 150; // Minimum flat rate
            }
            
            // Calculate ocean freight costs
            let minOceanFreightVolume = 100; // Minimum 100 CUFT
            let oceanFreightVolume = Math.max(volumeInCUFT, minOceanFreightVolume);
            
            if (destination === "uk") {
                oceanFreightCost = oceanFreightVolume * 4.00;
            } else { // Europe
                oceanFreightCost = oceanFreightVolume * 4.50;
            }
            
            // Calculate total
            totalCost = truckingCost + warehouseCost + adminCost + oceanFreightCost;
            
            // Display results
            const resultsDetail = document.getElementById("results-detail");
            resultsDetail.innerHTML = "";
            
            // Build results HTML
            let resultHTML = "";
            
            // Original entered value display
            resultHTML += `<div class="result-item">
                <span>Entered Value:</span>
                <span>${volumeValue.toFixed(2)} ${volumeUnit.toUpperCase()}</span>
            </div>`;
            
            // Show conversion
            resultHTML += `<div class="result-item">
                <span>Converted to:</span>
                <span>${volumeInCUFT.toFixed(2)} CUFT / ${volumeInCBM.toFixed(2)} CBM</span>
            </div>`;
            
            // Individual charges
            if (origin === "montreal") {
                resultHTML += `<div class="result-item">
                    <span>Trucking to Warehouse Pickering:</span>
                    <span>$${truckingCost.toFixed(2)} (${volumeInCBM.toFixed(2)} CBM × $200/2 CBM, min $200)</span>
                </div>`;
            }
            
            resultHTML += `<div class="result-item">
                <span>Warehouse Handling Pickering:</span>
                <span>$${warehouseCost.toFixed(2)} (${volumeInCUFT.toFixed(2)} CUFT × $0.75/CUFT, min $150)</span>
            </div>`;
            
            resultHTML += `<div class="result-item">
                <span>Admin Fee:</span>
                <span>$${adminCost.toFixed(2)} (Flat rate)</span>
            </div>`;
            
            resultHTML += `<div class="result-item">
                <span>Ocean Freight (${destination.toUpperCase()}):</span>
                <span>$${oceanFreightCost.toFixed(2)} (${oceanFreightVolume.toFixed(2)} CUFT × $${destination === "uk" ? "4.00" : "4.50"}/CUFT, min 100 CUFT)</span>
            </div>`;
            
            // Total
            resultHTML += `<div class="result-item total">
                <span>Total Charges:</span>
                <span>$${totalCost.toFixed(2)}</span>
            </div>`;
            
            resultsDetail.innerHTML = resultHTML;
            document.getElementById("results").style.display = "block";
        }
    </script>
</body>
</html>

